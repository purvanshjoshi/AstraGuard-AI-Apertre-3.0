<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="6" skipped="0" tests="23" time="75.690" timestamp="2026-02-15T18:34:26.741411+05:30" hostname="LAPTOP-QB1MKU37"><testcase classname="tests.test_api.TestHealthEndpoints" name="test_root_endpoint" time="0.068" /><testcase classname="tests.test_api.TestHealthEndpoints" name="test_health_check" time="0.033"><failure message="AssertionError: assert 'degraded' == 'healthy'&#10;  &#10;  #x1B[0m#x1B[91m- healthy#x1B[39;49;00m#x1B[90m#x1B[39;49;00m&#10;  #x1B[92m+ degraded#x1B[39;49;00m#x1B[90m#x1B[39;49;00m">self = &lt;test_api.TestHealthEndpoints object at 0x0000029A28E78050&gt;
client = &lt;starlette.testclient.TestClient object at 0x0000029A28E7BC50&gt;

    def test_health_check(self, client):
        """Test health check endpoint."""
        response = client.get("/health")
        assert response.status_code == 200
        data = response.json()
&gt;       assert data["status"] == "healthy"
E       AssertionError: assert 'degraded' == 'healthy'
E         
E         #x1B[0m#x1B[91m- healthy#x1B[39;49;00m#x1B[90m#x1B[39;49;00m
E         #x1B[92m+ degraded#x1B[39;49;00m#x1B[90m#x1B[39;49;00m

tests\test_api.py:91: AssertionError</failure></testcase><testcase classname="tests.test_api.TestTelemetryEndpoints" name="test_submit_normal_telemetry" time="2.057"><failure message="assert 503 == 200&#10; +  where 503 = &lt;Response [503 Service Unavailable]&gt;.status_code">self = &lt;test_api.TestTelemetryEndpoints object at 0x0000029A28E78190&gt;
client = &lt;starlette.testclient.TestClient object at 0x0000029A28F09E50&gt;

    def test_submit_normal_telemetry(self, client):
        """Test submitting normal telemetry (no anomaly)."""
        telemetry = {
            "voltage": 8.0,
            "temperature": 25.0,
            "gyro": 0.01,
            "current": 1.2,
            "wheel_speed": 3000
        }
        response = client.post("/api/v1/telemetry", json=telemetry)
&gt;       assert response.status_code == 200
E       assert 503 == 200
E        +  where 503 = &lt;Response [503 Service Unavailable]&gt;.status_code

tests\test_api.py:107: AssertionError</failure></testcase><testcase classname="tests.test_api.TestTelemetryEndpoints" name="test_submit_anomalous_telemetry" time="2.069"><failure message="assert 503 == 200&#10; +  where 503 = &lt;Response [503 Service Unavailable]&gt;.status_code">self = &lt;test_api.TestTelemetryEndpoints object at 0x0000029A28D53ED0&gt;
client = &lt;starlette.testclient.TestClient object at 0x0000029A28EEB100&gt;

    def test_submit_anomalous_telemetry(self, client):
        """Test submitting anomalous telemetry."""
        telemetry = {
            "voltage": 6.5,  # Below threshold
            "temperature": 50.0,  # High temperature
            "gyro": 0.2,  # High gyro
            "current": 2.0,
            "wheel_speed": 5000
        }
        response = client.post("/api/v1/telemetry", json=telemetry)
&gt;       assert response.status_code == 200
E       assert 503 == 200
E        +  where 503 = &lt;Response [503 Service Unavailable]&gt;.status_code

tests\test_api.py:123: AssertionError</failure></testcase><testcase classname="tests.test_api.TestTelemetryEndpoints" name="test_telemetry_validation_voltage_range" time="0.083" /><testcase classname="tests.test_api.TestTelemetryEndpoints" name="test_telemetry_validation_missing_fields" time="0.086" /><testcase classname="tests.test_api.TestTelemetryEndpoints" name="test_telemetry_optional_fields" time="2.251"><failure message="assert 503 == 200&#10; +  where 503 = &lt;Response [503 Service Unavailable]&gt;.status_code">self = &lt;test_api.TestTelemetryEndpoints object at 0x0000029A28E75130&gt;
client = &lt;starlette.testclient.TestClient object at 0x0000029A28E82030&gt;

    def test_telemetry_optional_fields(self, client):
        """Test telemetry with only required fields."""
        telemetry = {
            "voltage": 8.0,
            "temperature": 25.0,
            "gyro": 0.01
            # current and wheel_speed are optional
        }
        response = client.post("/api/v1/telemetry", json=telemetry)
&gt;       assert response.status_code == 200
E       assert 503 == 200
E        +  where 503 = &lt;Response [503 Service Unavailable]&gt;.status_code

tests\test_api.py:159: AssertionError</failure></testcase><testcase classname="tests.test_api.TestBatchEndpoints" name="test_submit_batch_telemetry" time="6.679"><failure message="assert 0 &gt;= 1">self = &lt;test_api.TestBatchEndpoints object at 0x0000029A28E782D0&gt;
client = &lt;starlette.testclient.TestClient object at 0x0000029A28E807C0&gt;

    def test_submit_batch_telemetry(self, client):
        """Test submitting batch of telemetry."""
        batch = {
            "telemetry": [
                {"voltage": 8.0, "temperature": 25.0, "gyro": 0.01},
                {"voltage": 7.5, "temperature": 30.0, "gyro": 0.02},
                {"voltage": 6.5, "temperature": 50.0, "gyro": 0.2}  # Anomaly
            ]
        }
        response = client.post("/api/v1/telemetry/batch", json=batch)
        assert response.status_code == 200
        data = response.json()
        assert data["total_processed"] == 3
&gt;       assert data["anomalies_detected"] &gt;= 1
E       assert 0 &gt;= 1

tests\test_api.py:178: AssertionError</failure></testcase><testcase classname="tests.test_api.TestBatchEndpoints" name="test_batch_empty_validation" time="0.059" /><testcase classname="tests.test_api.TestBatchEndpoints" name="test_batch_size_limit" time="0.047" /><testcase classname="tests.test_api.TestStatusEndpoints" name="test_get_system_status" time="0.029" /><testcase classname="tests.test_api.TestStatusEndpoints" name="test_status_contains_components" time="0.030" /><testcase classname="tests.test_api.TestPhaseEndpoints" name="test_get_current_phase" time="0.027" /><testcase classname="tests.test_api.TestPhaseEndpoints" name="test_update_phase_valid_transition" time="0.031" /><testcase classname="tests.test_api.TestPhaseEndpoints" name="test_update_phase_invalid_enum" time="0.028" /><testcase classname="tests.test_api.TestMemoryEndpoints" name="test_get_memory_stats" time="0.029" /><testcase classname="tests.test_api.TestHistoryEndpoints" name="test_get_anomaly_history" time="0.029" /><testcase classname="tests.test_api.TestHistoryEndpoints" name="test_history_with_limit" time="0.028" /><testcase classname="tests.test_api.TestHistoryEndpoints" name="test_history_with_severity_filter" time="2.029" /><testcase classname="tests.test_api.TestIntegrationFlow" name="test_full_anomaly_detection_flow" time="2.043"><failure message="assert 503 == 200&#10; +  where 503 = &lt;Response [503 Service Unavailable]&gt;.status_code">self = &lt;test_api.TestIntegrationFlow object at 0x0000029A28E78E10&gt;
client = &lt;starlette.testclient.TestClient object at 0x0000029A28E81BF0&gt;

    def test_full_anomaly_detection_flow(self, client):
        """Test complete flow: submit telemetry -&gt; detect anomaly -&gt; check history."""
        # 1. Check initial status
        status_response = client.get("/api/v1/status")
        assert status_response.status_code == 200
    
        # 2. Get current phase
        phase_response = client.get("/api/v1/phase")
        assert phase_response.status_code == 200
        initial_phase = phase_response.json()["phase"]
    
        # 3. Submit anomalous telemetry
        telemetry = {
            "voltage": 6.0,  # Power fault
            "temperature": 55.0,  # Thermal fault
            "gyro": 0.3,  # Attitude fault
            "current": 2.0,
            "wheel_speed": 4000
        }
        telemetry_response = client.post("/api/v1/telemetry", json=telemetry)
&gt;       assert telemetry_response.status_code == 200
E       assert 503 == 200
E        +  where 503 = &lt;Response [503 Service Unavailable]&gt;.status_code

tests\test_api.py:332: AssertionError</failure></testcase><testcase classname="tests.test_api.TestCORS" name="test_cors_headers" time="0.032" /><testcase classname="tests.test_api.TestOpenAPIDocumentation" name="test_docs_endpoint" time="0.038" /><testcase classname="tests.test_api.TestOpenAPIDocumentation" name="test_openapi_schema" time="0.174" /><testcase time="0.019" /></testsuite></testsuites>